{"name":"Commons-encryption","tagline":"","body":"commons-encryption\r\n==================\r\n\r\n### Pre-Requisites\r\nPrior to making use of the commons-encryption library it may be necessary to install the [Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files](http://www.oracle.com/technetwork/java/javase/downloads/jce-7-download-432124.html). If you live in a jurisdiciton where you cannot make use of these unlimited strength encryption policy files you should still be able to make use of commons-encryption by specifying smaller key lengths to the keystore generator. \r\n\r\n### Usage\r\nIn order to make use of the commons-encryption library you first need to download the jars from here on github, or alternatively if you use maven you will soon be able to download the dependency from maven central repository.\r\n\r\n###### Maven Dependency\r\n```XML\r\n<dependency>\r\n\t<groupId>net.theblackchamber</groupId>\r\n\t<artifactId>commons-encryption</artifactId>\r\n\t<version>.1</version>\r\n</dependency>\r\n```\r\n\r\nAfter the commons-encryption library has been added to your project usage is pretty straight forward. Generally the classes you will be interacting with will be in the implementations, util, and providers packages. Specific examples of use can be found in the API documents located on the [project website](http://sminogue.github.io/commons-encryption) and in the unit tests under src/test/java.\r\n\r\n\r\n### Examples:\r\n###### Key Generation\r\nThe following snippet of code is an example of generating a 256 bit AES key and adding it to a keystore on disk with the key entry name of \"aes-key\" and the keystore encrypted using the password \"TEST\".\r\n```java\r\nKeyConfig config = new KeyConfig(keyStoreFile, \"TEST\", 256, SupportedAlgorithms.AES, \"aes-key\");\r\nKeystoreUtils.generateAESSecretKey(config);\r\n```\r\n\r\n###### SecureProperties\r\nSecureProperties is an attempt to provide a transparent extension of the native java Properties class which allows property values to be encrypted at rest. Be aware of the exceptions thrown by methods as described in the API... Methods throw a custom unchecked runtime exception.\r\n###### test.properties\r\n```properties\r\nentry-name=aes-key\r\nkeystore-password=changeit\r\nkey-path=/my/key/location\r\nkey1=My Unencrypted Property Value\r\nkey2-encrypted=FAB123DE7A012FCD\r\n```\r\n\r\nThe following snipped of code is an example of loading a properties file from disk into a SecureProperties object which can be used in existing java classes.\r\n```java\r\nFileReader reader = new FileReader(propertiesFile);\r\nProperties sProperties = new SecureProperties();\r\nsProperties.load(reader);\r\nString clearKey2 = sProperties.getProperty('key2-encrypted');\r\nsProperties.setProperty('key3-unencrypted','cleartext value');\r\n```\r\n\r\n###### AESEncryptionProvider\r\nIf you find yourself needing to build your own \"implementation\" using encryption or just want to manually encrypt/decrypt values. The providers can be used directly.\r\n```java\r\nSecretKey key = KeystoreUtils.getAESSecretKey(keyfile, \"aes-key\", \"TEST\");\r\nAESEncryptionProvider encryptionProvider = new AESEncryptionProvider(key);\r\nString cipherText = encryptionProvider.encode(\"clear text\");\r\n```\r\n\r\n###### SecurePropertiesUtils\r\nThe SecurePropertiesUtils is a utility class primarily used to initially encrypt a clear text properties file in preperation of deploying it to a server. This is so that you can keep a clear text version in your project, edit it, and then easily in one step encrypt the fields which need to be secured and then deploy. Important to note that while a SecureProperties instance is returned the file IS changed on disk as well, the returned SecureProperties is just a convenience.\r\n```properties\r\nentry-name=aes-key\r\nkeystore-password=changeit\r\nkey-path=/my/key/location\r\nkey1=My Unencrypted Property Value\r\nkey2-unencrypted=This Will Be Encrypted\r\n```\r\n```java\r\nSecureProperties sProperties = SecurePropertiesUtils.encryptPropertiesFile(propertiesFile);\r\n```\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}